<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  {{!-- inpired in https://stackoverflow.com/questions/25983603/how-to-submit-an-html-form-without-redirection --}}
    <script type="text/javascript">
      function customSubmit () {
        $.ajax({
            type: "POST",
            url: "/search",
            data: $("#distance-form").serialize(),
            success: function(data) {
              alert(`Distance is ${data.distance} km`);
            },
            error: function(data) {
              alert(`Something unexpected happened: ${data.responseJSON.message}`);
            }
          });
      }
    </script>
    <meta charset="utf-8" />
    <title>Distance Calculator</title>
  </head>
  <body>
    <header>
      <h2>Distance Calculator</h2>
    </header>
    <main>
    <div>
      Calculate the distance between two addresses in km: 
    </div>
    <br>
      <form id="distance-form">
        <label for="source">Source address:</label>
        <input type="text" id="source" name="source"><br><br>
        <label for="destination">Destination address:</label>
        <input type="text" id="destination" name="destination">
        <p>
          <button id="on-btn" type="button" onclick="customSubmit()">Submit</button>
        </p>
      </form>
    </main>
  </body>
</html>